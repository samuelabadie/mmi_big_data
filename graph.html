<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Area Spline Chart | JSCharting</title>
    <meta http-equiv="content-type" content="text-html; charset=utf-8" />


    <link rel="stylesheet" type="text/css" href="css/default.css" />
    <style></style>
  </head>
  <body>
    <div id="chartDiv" style="max-width: 740px;height: 400px;margin: 0px auto;"></div>

    <script type="text/javascript">
      /*
Area spline series type.
Learn how to:

  - Draw area spline chart.
*/
      // JS
fetch('csvjson.json')
.then(reponse => reponse.json())
.then(data => RecordData1(data))
.catch(error => console.log(error));

function RecordData1(data){

console.log(data[0]["Année"])
}

function RecordData1(data){

      toNumber = (n) => parseFloat(n.replace(/,/, '.'))

      var chart = JSC.chart('chartDiv', {
        debug: true,
        legend_position: 'bottom right',
        type: 'area spline',
        defaultSeries: { shape_opacity: 0.5 },
        xAxis: {
          crosshair_enabled: true,
          scale: { type: 'time' }
        },
        title_label_text: 'Costs (Last 6 Months)',
        yAxis: { formatString: 'p' },
        series: [
          {
            name: 'Non accés à internet',
            points: [
              [data[0]["Année"], toNumber(data[0]["Personne n'ayant pas accès internet"])],
              [data[1]["Année"], toNumber(data[1]["Personne n'ayant pas accès internet"])],
              [data[2]["Année"], toNumber(data[2]["Personne n'ayant pas accès internet"])],
              [data[3]["Année"], toNumber(data[3]["Personne n'ayant pas accès internet"])],
              [data[4]["Année"], toNumber(data[4]["Personne n'ayant pas accès internet"])],
              [data[5]["Année"], toNumber(data[5]["Personne n'ayant pas accès internet"])]
            ]
          },
          {
            name: 'CA e-commerce',
            points: [
              [data[0]["Année"], toNumber(data[0]["Evolution du CA du e-commerce"])],
              [data[1]["Année"], toNumber(data[1]["Evolution du CA du e-commerce"])],
              [data[2]["Année"], toNumber(data[2]["Evolution du CA du e-commerce"])],
              [data[3]["Année"], toNumber(data[3]["Evolution du CA du e-commerce"])],
              [data[4]["Année"], toNumber(data[4]["Evolution du CA du e-commerce"])],
              [data[5]["Année"], toNumber(data[5]["Evolution du CA du e-commerce"])]
            ]
          },

        ]
      });



    }
    </script>

  </body>
</html>
